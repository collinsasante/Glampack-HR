<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Dashboard - Glampack HR</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.ico" />

    <!-- Tailwind CSS (Local) -->
    <link rel="stylesheet" href="assets/css/tailwind.css" />

    <!-- Button Styles -->
    <link rel="stylesheet" href="assets/css/button-styles.css?v=6" />

    <!-- Tailwind CSS CDN (Fallback) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      /* Ensure quick action colors are visible */
      .quick-action-green {
        background-color: #10b981 !important;
        color: white !important;
      }
      .quick-action-green:hover {
        background-color: #059669 !important;
      }
      .quick-action-blue {
        background-color: #3b82f6 !important;
        color: white !important;
      }
      .quick-action-blue:hover {
        background-color: #2563eb !important;
      }
      .quick-action-purple {
        background-color: #a855f7 !important;
        color: white !important;
      }
      .quick-action-purple:hover {
        background-color: #9333ea !important;
      }
      .quick-action-orange {
        background-color: #f97316 !important;
        color: white !important;
      }
      .quick-action-orange:hover {
        background-color: #ea580c !important;
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <!-- Navigation Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
      <div class="container mx-auto px-4 py-4">
        <div class="flex items-center justify-between">
          <!-- Logo -->
          <div class="flex items-center space-x-3">
            <img src="assets/images/logo_red.png" alt="Logo" class="h-10" />
          </div>

          <!-- Desktop Navigation Menu (hidden on mobile) -->
          <div class="hidden lg:flex items-center space-x-4">
            <a
              href="dashboard.html"
              class="text-red-600 hover:text-red-600 font-semibold"
            >
              <i class="fas fa-chart-line mr-1"></i> Dashboard
            </a>
            <a
              href="attendance-tracker.html"
              class="text-gray-600 hover:text-red-600"
            >
              <i class="fas fa-clock mr-1"></i> Attendance
            </a>
            <a
              href="leave-request.html"
              class="text-gray-600 hover:text-red-600"
            >
              <i class="fas fa-calendar-alt mr-1"></i> Leave
            </a>
            <a
              href="medical-claims.html"
              class="text-gray-600 hover:text-red-600"
            >
              <i class="fas fa-notes-medical mr-1"></i> Medical Claims
            </a>
            <a href="profile.html" class="text-gray-600 hover:text-red-600">
              <i class="fas fa-user mr-1"></i> Profile
            </a>
            <a
              href="announcements.html"
              class="text-gray-600 hover:text-red-600"
            >
              <i class="fas fa-bullhorn mr-1"></i> Announcements
            </a>
            <a href="payroll.html" class="text-gray-600 hover:text-red-600">
              <i class="fas fa-money-bill-wave mr-1"></i> Payroll
            </a>
            <div id="adminLink" style="display: none">
              <a
                href="admin-dashboard.html"
                class="text-gray-600 hover:text-red-600"
              >
                <i class="fas fa-user-shield mr-1"></i> Admin Dashboard
              </a>
            </div>
            <button onclick="logout()" class="text-gray-600 hover:text-red-600">
              <i class="fas fa-sign-out-alt mr-1"></i> Logout
            </button>
          </div>

          <!-- Mobile Menu Button -->
          <button onclick="toggleMobileMenu()" class="lg:hidden text-gray-600 hover:text-red-600 focus:outline-none">
            <i class="fas fa-bars text-2xl"></i>
          </button>
        </div>

        <!-- Mobile Navigation Menu (hidden by default) -->
        <div id="mobileMenu" class="hidden lg:hidden mt-4 pb-2 space-y-2">
          <a href="dashboard.html" class="block px-4 py-3 bg-red-100 text-red-600 font-semibold rounded-lg">
            <i class="fas fa-chart-line mr-2"></i> Dashboard
          </a>
          <a href="attendance-tracker.html" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg">
            <i class="fas fa-clock mr-2"></i> Attendance
          </a>
          <a href="leave-request.html" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg">
            <i class="fas fa-calendar-alt mr-2"></i> Leave
          </a>
          <a href="medical-claims.html" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg">
            <i class="fas fa-notes-medical mr-2"></i> Medical Claims
          </a>
          <a href="profile.html" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg">
            <i class="fas fa-user mr-2"></i> Profile
          </a>
          <a href="announcements.html" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg">
            <i class="fas fa-bullhorn mr-2"></i> Announcements
          </a>
          <a href="payroll.html" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg">
            <i class="fas fa-money-bill-wave mr-2"></i> Payroll
          </a>
          <div id="adminLinkMobile" style="display: none">
            <a href="admin-dashboard.html" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg">
              <i class="fas fa-user-shield mr-2"></i> Admin Dashboard
            </a>
          </div>
          <button onclick="logout()" class="w-full text-left px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg">
            <i class="fas fa-sign-out-alt mr-2"></i> Logout
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8">
      <!-- Welcome Section -->
      <div class="mb-6 sm:mb-8">
        <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 break-words">
          Welcome back, <span id="userName">Employee</span>!
        </h1>
        <p class="text-sm sm:text-base text-gray-600 mt-2">Here's what's happening today</p>
      </div>

      <!-- Stats Cards -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8">
        <!-- Today's Status -->
        <div class="bg-white rounded-lg shadow-md p-4 sm:p-6">
          <div class="flex items-center justify-between">
            <div class="flex-1 min-w-0 pr-3">
              <p class="text-gray-500 text-xs sm:text-sm">Today's Status</p>
              <h3
                class="text-xl sm:text-2xl font-bold text-gray-800 mt-1 truncate"
                id="todayStatus"
              >
                --
              </h3>
              <p class="text-gray-600 text-xs sm:text-sm mt-1 truncate" id="checkInTime">--</p>
            </div>
            <div class="bg-green-100 p-2 sm:p-3 rounded-full flex-shrink-0">
              <i class="fas fa-clock text-green-600 text-xl sm:text-2xl"></i>
            </div>
          </div>
        </div>

        <!-- Monthly Hours -->
        <div class="bg-white rounded-lg shadow-md p-4 sm:p-6">
          <div class="flex items-center justify-between">
            <div class="flex-1 min-w-0 pr-3">
              <p class="text-gray-500 text-xs sm:text-sm">Monthly Hours</p>
              <h3
                class="text-xl sm:text-2xl font-bold text-gray-800 mt-1 truncate"
                id="monthlyHours"
              >
                0
              </h3>
              <p class="text-gray-600 text-xs sm:text-sm mt-1">This month</p>
            </div>
            <div class="bg-blue-100 p-2 sm:p-3 rounded-full flex-shrink-0">
              <i class="fas fa-business-time text-blue-600 text-xl sm:text-2xl"></i>
            </div>
          </div>
        </div>

        <!-- Medical Claims -->
        <div
          class="bg-white rounded-lg shadow-md p-4 sm:p-6 cursor-pointer hover:shadow-lg transition-shadow"
          onclick="window.location.href='medical-claims.html'"
        >
          <div class="flex items-center justify-between">
            <div class="flex-1 min-w-0 pr-3">
              <p class="text-gray-500 text-xs sm:text-sm">Medical Claims</p>
              <h3
                class="text-xl sm:text-2xl font-bold text-gray-800 mt-1 truncate"
                id="medicalClaimsCount"
              >
                0
              </h3>
              <p class="text-gray-600 text-xs sm:text-sm mt-1">Pending claims</p>
            </div>
            <div class="bg-teal-100 p-2 sm:p-3 rounded-full flex-shrink-0">
              <i class="fas fa-file-medical text-teal-600 text-xl sm:text-2xl"></i>
            </div>
          </div>
        </div>

        <!-- Pending Requests -->
        <div class="bg-white rounded-lg shadow-md p-4 sm:p-6">
          <div class="flex items-center justify-between">
            <div class="flex-1 min-w-0 pr-3">
              <p class="text-gray-500 text-xs sm:text-sm">Pending Requests</p>
              <h3
                class="text-xl sm:text-2xl font-bold text-gray-800 mt-1 truncate"
                id="pendingRequests"
              >
                0
              </h3>
              <p class="text-gray-600 text-xs sm:text-sm mt-1">Awaiting approval</p>
            </div>
            <div class="bg-purple-100 p-2 sm:p-3 rounded-full flex-shrink-0">
              <i class="fas fa-hourglass-half text-purple-600 text-xl sm:text-2xl"></i>
            </div>
          </div>
        </div>
      </div>
      <!-- Policy Documents -->
      <div class="bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6 sm:mb-8">
        <h3 class="text-base sm:text-lg font-semibold text-gray-800 mb-4">
          <i class="fas fa-file-alt mr-2"></i>Policy Documents
        </h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4">
          <a
            href="#"
            onclick="showMedicalPolicy(); return false;"
            class="flex items-center p-4 bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 rounded-lg border border-blue-200 transition-all"
          >
            <div class="bg-blue-500 p-3 rounded-lg mr-4">
              <i class="fas fa-heartbeat text-white text-xl"></i>
            </div>
            <div>
              <p class="font-semibold text-gray-800">Staff Medical Policy</p>
              <p class="text-xs text-gray-600">Healthcare guidelines</p>
            </div>
          </a>
          <a
            href="#"
            onclick="showEmployeeHandbook(); return false;"
            class="flex items-center p-4 bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 rounded-lg border border-green-200 transition-all"
          >
            <div class="bg-green-500 p-3 rounded-lg mr-4">
              <i class="fas fa-book text-white text-xl"></i>
            </div>
            <div>
              <p class="font-semibold text-gray-800">Employee Handbook</p>
              <p class="text-xs text-gray-600">Company policies</p>
            </div>
          </a>
          <a
            href="#"
            onclick="showWelfareGuide(); return false;"
            class="flex items-center p-4 bg-gradient-to-r from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 rounded-lg border border-purple-200 transition-all"
          >
            <div class="bg-purple-500 p-3 rounded-lg mr-4">
              <i class="fas fa-hands-helping text-white text-xl"></i>
            </div>
            <div>
              <p class="font-semibold text-gray-800">Staff Welfare Guide</p>
              <p class="text-xs text-gray-600">Benefits & support</p>
            </div>
          </a>
        </div>
      </div>

      <!-- Charts and Announcements Section -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8">
        <!-- Attendance Chart -->
        <div class="lg:col-span-2 bg-white rounded-lg shadow-md p-4 sm:p-6">
          <h3 class="text-base sm:text-lg font-semibold text-gray-800 mb-4">
            <i class="fas fa-chart-bar mr-2"></i>Attendance Overview
          </h3>
          <div class="w-full overflow-x-auto">
            <canvas id="attendanceChart" height="100"></canvas>
          </div>
        </div>

        <!-- Latest Announcements -->
        <div class="bg-white rounded-lg shadow-md p-4 sm:p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-base sm:text-lg font-semibold text-gray-800">
              <i class="fas fa-bullhorn mr-2"></i>Announcements
            </h3>
            <a
              href="announcements.html"
              class="text-red-600 hover:text-red-700 text-xs sm:text-sm whitespace-nowrap"
            >
              View All <i class="fas fa-arrow-right ml-1"></i>
            </a>
          </div>
          <div id="announcementsList" class="space-y-3 max-h-80 overflow-y-auto">
            <div class="text-center text-gray-500 py-8">
              <i class="fas fa-spinner fa-spin text-xl sm:text-2xl"></i>
              <p class="mt-2 text-sm sm:text-base">Loading announcements...</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Medical Policy Modal -->
    <div id="medicalPolicyModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
      <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
        <!-- Modal Header -->
        <div class="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex items-center justify-between">
          <div class="flex items-center space-x-3">
            <i class="fas fa-heartbeat text-2xl"></i>
            <h2 class="text-2xl font-bold">Staff Medical Bill Policy</h2>
          </div>
          <button onclick="closeMedicalPolicy()" class="text-white hover:text-gray-200 transition-colors">
            <i class="fas fa-times text-2xl"></i>
          </button>
        </div>

        <!-- Modal Content -->
        <div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]">
          <!-- Overview Section -->
          <div class="mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-info-circle text-blue-600 mr-2"></i>
              Overview
            </h3>
            <p class="text-gray-700 leading-relaxed">
              This policy provides financial support for employees' medical expenses not fully covered by the company's health insurance plan.
              The reimbursement program helps offset out-of-pocket costs for essential healthcare services.
            </p>
          </div>

          <!-- Eligibility Section -->
          <div class="mb-6 bg-blue-50 p-5 rounded-lg border border-blue-200">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-user-check text-blue-600 mr-2"></i>
              Eligibility
            </h3>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start">
                <i class="fas fa-check-circle text-green-600 mr-2 mt-1"></i>
                <span>All full-time employees who have completed their probationary period</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-green-600 mr-2 mt-1"></i>
                <span>Employees must be enrolled in the company's health insurance plan</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-green-600 mr-2 mt-1"></i>
                <span>Contract employees are eligible after 6 months of continuous service</span>
              </li>
            </ul>
          </div>

          <!-- Coverage Details Section -->
          <div class="mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-notes-medical text-blue-600 mr-2"></i>
              Coverage Details
            </h3>

            <div class="bg-gradient-to-r from-green-50 to-green-100 p-5 rounded-lg border border-green-300 mb-4">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-sm text-gray-600 mb-1">Annual Reimbursement Limit</p>
                  <p class="text-3xl font-bold text-green-700">GH₵ 1,000</p>
                </div>
                <i class="fas fa-coins text-green-600 text-4xl"></i>
              </div>
              <p class="text-sm text-gray-600 mt-2">Per employee, per calendar year</p>
            </div>

            <h4 class="font-semibold text-gray-800 mb-3 mt-4">Covered Medical Expenses:</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
              <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-gray-700"><strong>Deductibles:</strong> Insurance plan deductibles for covered services</span>
              </div>
              <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-gray-700"><strong>Co-payments:</strong> Out-of-pocket payments required by insurance</span>
              </div>
              <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-gray-700"><strong>Prescriptions:</strong> Medications not covered by NHIS or insurance</span>
              </div>
              <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-gray-700"><strong>Specialist Consultations:</strong> Out-of-network specialist visits</span>
              </div>
              <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-gray-700"><strong>Diagnostic Tests:</strong> Lab tests, X-rays, MRI, CT scans</span>
              </div>
              <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-gray-700"><strong>Emergency Care:</strong> Emergency room visits and urgent care</span>
              </div>
            </div>

            <h4 class="font-semibold text-gray-800 mb-3 mt-4">Non-Covered Expenses:</h4>
            <div class="space-y-2">
              <div class="flex items-start p-3 bg-red-50 rounded-lg border border-red-200">
                <i class="fas fa-times text-red-600 mr-2 mt-1"></i>
                <span class="text-gray-700">Cosmetic procedures and elective surgeries</span>
              </div>
              <div class="flex items-start p-3 bg-red-50 rounded-lg border border-red-200">
                <i class="fas fa-times text-red-600 mr-2 mt-1"></i>
                <span class="text-gray-700">Alternative medicine (unless prescribed by licensed physician)</span>
              </div>
              <div class="flex items-start p-3 bg-red-50 rounded-lg border border-red-200">
                <i class="fas fa-times text-red-600 mr-2 mt-1"></i>
                <span class="text-gray-700">Over-the-counter medications without prescription</span>
              </div>
              <div class="flex items-start p-3 bg-red-50 rounded-lg border border-red-200">
                <i class="fas fa-times text-red-600 mr-2 mt-1"></i>
                <span class="text-gray-700">Expenses already reimbursed by insurance or other sources</span>
              </div>
            </div>
          </div>

          <!-- Claims Process Section -->
          <div class="mb-6 bg-yellow-50 p-5 rounded-lg border border-yellow-300">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-clipboard-list text-yellow-600 mr-2"></i>
              How to Submit a Claim
            </h3>
            <ol class="space-y-3">
              <li class="flex items-start">
                <span class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold mr-3">1</span>
                <div class="flex-1">
                  <p class="font-semibold text-gray-800">Obtain Treatment</p>
                  <p class="text-sm text-gray-600">Receive medical treatment and pay any out-of-pocket expenses</p>
                </div>
              </li>
              <li class="flex items-start">
                <span class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold mr-3">2</span>
                <div class="flex-1">
                  <p class="font-semibold text-gray-800">Gather Documentation</p>
                  <p class="text-sm text-gray-600">Collect receipts, invoices, insurance statements (EOB), and prescription receipts</p>
                </div>
              </li>
              <li class="flex items-start">
                <span class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold mr-3">3</span>
                <div class="flex-1">
                  <p class="font-semibold text-gray-800">Complete Claim Form</p>
                  <p class="text-sm text-gray-600">Fill out the Medical Bill Reimbursement Form (available in HR portal or HR office)</p>
                </div>
              </li>
              <li class="flex items-start">
                <span class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold mr-3">4</span>
                <div class="flex-1">
                  <p class="font-semibold text-gray-800">Submit to HR</p>
                  <p class="text-sm text-gray-600">Submit completed form with all supporting documents to HR Department within <strong>3 days</strong> of treatment</p>
                </div>
              </li>
              <li class="flex items-start">
                <span class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold mr-3">5</span>
                <div class="flex-1">
                  <p class="font-semibold text-gray-800">Review & Approval</p>
                  <p class="text-sm text-gray-600">HR reviews claim for completeness and eligibility (2-3 business days)</p>
                </div>
              </li>
              <li class="flex items-start">
                <span class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold mr-3">6</span>
                <div class="flex-1">
                  <p class="font-semibold text-gray-800">Reimbursement</p>
                  <p class="text-sm text-gray-600">Approved claims processed in next payroll cycle or via direct bank transfer</p>
                </div>
              </li>
            </ol>
          </div>

          <!-- Important Notes Section -->
          <div class="mb-6 bg-red-50 p-5 rounded-lg border border-red-300">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-exclamation-triangle text-red-600 mr-2"></i>
              Important Notes
            </h3>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start">
                <i class="fas fa-clock text-red-600 mr-2 mt-1"></i>
                <span><strong>Submission Deadline:</strong> Claims must be submitted within 3 days of receiving treatment. Late submissions may be denied.</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-receipt text-red-600 mr-2 mt-1"></i>
                <span><strong>Original Receipts Required:</strong> Only original receipts or certified copies accepted. Photocopies may be rejected.</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-calendar-alt text-red-600 mr-2 mt-1"></i>
                <span><strong>Annual Reset:</strong> The GH₵ 1,000 limit resets on January 1st each year. Unused amounts do not roll over.</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-ban text-red-600 mr-2 mt-1"></i>
                <span><strong>No Double Dipping:</strong> Expenses already reimbursed by insurance or other programs are not eligible.</span>
              </li>
            </ul>
          </div>

          <!-- Contact Section -->
          <div class="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-5 rounded-lg">
            <h3 class="text-xl font-bold mb-3 flex items-center">
              <i class="fas fa-phone-alt mr-2"></i>
              Need Help?
            </h3>
            <p class="mb-3">For questions about this policy or assistance with your claim, contact:</p>
            <div class="space-y-2">
              <p><i class="fas fa-building mr-2"></i><strong>HR Department</strong></p>
              <p><i class="fas fa-envelope mr-2"></i>hr@packglamour.com</p>
              <p><i class="fas fa-phone mr-2"></i>+233 XX XXX XXXX</p>
              <p class="text-sm mt-3 opacity-90">Office Hours: Monday - Friday, 8:00 AM - 5:00 PM</p>
            </div>
          </div>
        </div>

        <!-- Modal Footer -->
        <div class="bg-gray-100 p-4 flex justify-end">
          <button onclick="closeMedicalPolicy()" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors">
            Close
          </button>
        </div>
      </div>
    </div>

    <!-- Employee Handbook Modal -->
    <div id="employeeHandbookModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
      <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
        <!-- Modal Header -->
        <div class="bg-gradient-to-r from-green-600 to-green-700 text-white p-6 flex items-center justify-between">
          <div class="flex items-center space-x-3">
            <i class="fas fa-book text-2xl"></i>
            <h2 class="text-2xl font-bold">Employee Handbook</h2>
          </div>
          <button onclick="closeEmployeeHandbook()" class="text-white hover:text-gray-200 transition-colors">
            <i class="fas fa-times text-2xl"></i>
          </button>
        </div>

        <!-- Modal Content -->
        <div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]">
          <!-- Welcome Section -->
          <div class="mb-6 bg-green-50 p-5 rounded-lg border border-green-200">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-hand-wave text-green-600 mr-2"></i>
              Welcome to Packaging Glamour
            </h3>
            <p class="text-gray-700 leading-relaxed">
              This handbook serves as your comprehensive guide to company policies, procedures, and expectations. It is designed to help you understand your rights, responsibilities, and the resources available to you as a valued member of our team.
            </p>
          </div>

          <!-- Company Overview -->
          <div class="mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-building text-green-600 mr-2"></i>
              About Us
            </h3>
            <p class="text-gray-700 leading-relaxed mb-3">
              Packaging Glamour is a leading provider of innovative packaging solutions. We pride ourselves on quality, customer satisfaction, and maintaining a positive work environment for all employees.
            </p>
            <div class="bg-gray-50 p-4 rounded-lg">
              <p class="font-semibold text-gray-800 mb-2">Our Core Values:</p>
              <ul class="space-y-2 text-gray-700">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-green-600 mr-2 mt-1"></i>
                  <span><strong>Excellence:</strong> We strive for the highest quality in everything we do</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-green-600 mr-2 mt-1"></i>
                  <span><strong>Integrity:</strong> We conduct our business with honesty and transparency</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-green-600 mr-2 mt-1"></i>
                  <span><strong>Innovation:</strong> We embrace new ideas and continuous improvement</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-green-600 mr-2 mt-1"></i>
                  <span><strong>Teamwork:</strong> We collaborate and support each other's success</span>
                </li>
              </ul>
            </div>
          </div>

          <!-- Employment Policies -->
          <div class="mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-briefcase text-green-600 mr-2"></i>
              Employment Policies
            </h3>

            <div class="space-y-4">
              <!-- Work Hours -->
              <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                <h4 class="font-semibold text-gray-800 mb-2 flex items-center">
                  <i class="fas fa-clock text-blue-600 mr-2"></i>
                  Working Hours
                </h4>
                <p class="text-gray-700 text-sm mb-2">Standard work schedules vary by department and shift:</p>
                <ul class="text-sm text-gray-700 ml-5 list-disc space-y-1">
                  <li><strong>Morning Production:</strong> 8:00 AM - 6:00 PM (Mon-Fri)</li>
                  <li><strong>Night Production:</strong> 8:00 PM - 6:00 AM (Mon-Fri)</li>
                  <li><strong>Straight Shift:</strong> 8:00 AM - 5:00 PM (Mon-Fri)</li>
                  <li><strong>Customer Service:</strong> 7:00 AM - 2:00 PM or 2:00 PM - 9:00 PM</li>
                </ul>
              </div>

              <!-- Attendance -->
              <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                <h4 class="font-semibold text-gray-800 mb-2 flex items-center">
                  <i class="fas fa-user-check text-yellow-600 mr-2"></i>
                  Attendance & Punctuality
                </h4>
                <p class="text-gray-700 text-sm mb-2">Regular attendance and punctuality are essential:</p>
                <ul class="text-sm text-gray-700 ml-5 list-disc space-y-1">
                  <li>Clock in using the attendance system at the start of your shift</li>
                  <li>Notify your supervisor immediately if you will be late or absent</li>
                  <li>Late arrivals (after 30 minutes past shift start) require explanation</li>
                  <li>Excessive tardiness or absences may result in disciplinary action</li>
                </ul>
              </div>

              <!-- Leave Policy -->
              <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                <h4 class="font-semibold text-gray-800 mb-2 flex items-center">
                  <i class="fas fa-calendar-alt text-purple-600 mr-2"></i>
                  Leave Entitlement
                </h4>
                <p class="text-gray-700 text-sm mb-2">All full-time employees are entitled to:</p>
                <ul class="text-sm text-gray-700 ml-5 list-disc space-y-1">
                  <li><strong>Annual Leave:</strong> 20 days per year (prorated for new employees)</li>
                  <li><strong>Emergency Leave:</strong> Up to 5 days per year (with approval)</li>
                  <li><strong>Sick Leave:</strong> As needed with medical certificate</li>
                  <li><strong>Maternity Leave:</strong> 14 weeks (as per Ghana Labour Act)</li>
                  <li>Submit leave requests at least 2 weeks in advance for planning</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Code of Conduct -->
          <div class="mb-6 bg-red-50 p-5 rounded-lg border border-red-200">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-gavel text-red-600 mr-2"></i>
              Code of Conduct
            </h3>
            <p class="text-gray-700 mb-3">All employees are expected to:</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
              <div class="flex items-start">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-sm text-gray-700">Treat colleagues, clients, and visitors with respect</span>
              </div>
              <div class="flex items-start">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-sm text-gray-700">Maintain professional appearance and behavior</span>
              </div>
              <div class="flex items-start">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-sm text-gray-700">Follow all safety protocols and procedures</span>
              </div>
              <div class="flex items-start">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-sm text-gray-700">Protect company property and confidential information</span>
              </div>
              <div class="flex items-start">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-sm text-gray-700">Report violations or concerns to management</span>
              </div>
              <div class="flex items-start">
                <i class="fas fa-check text-green-600 mr-2 mt-1"></i>
                <span class="text-sm text-gray-700">Avoid conflicts of interest</span>
              </div>
            </div>

            <div class="mt-4 bg-white p-3 rounded border border-red-300">
              <p class="font-semibold text-gray-800 mb-2">Zero Tolerance Policies:</p>
              <ul class="text-sm text-gray-700 space-y-1">
                <li class="flex items-start">
                  <i class="fas fa-ban text-red-600 mr-2 mt-1"></i>
                  <span>Harassment, discrimination, or bullying of any kind</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-ban text-red-600 mr-2 mt-1"></i>
                  <span>Substance abuse or working under the influence</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-ban text-red-600 mr-2 mt-1"></i>
                  <span>Theft or dishonesty</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-ban text-red-600 mr-2 mt-1"></i>
                  <span>Violence or threats of violence</span>
                </li>
              </ul>
            </div>
          </div>

          <!-- Benefits & Compensation -->
          <div class="mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-gift text-green-600 mr-2"></i>
              Benefits & Compensation
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200">
                <h4 class="font-semibold text-gray-800 mb-2">Payroll</h4>
                <p class="text-sm text-gray-700">Salaries are paid monthly on the last working day. Payslips are available through the HR portal.</p>
              </div>
              <div class="bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200">
                <h4 class="font-semibold text-gray-800 mb-2">Medical Benefits</h4>
                <p class="text-sm text-gray-700">GH₵ 1,000 annual medical reimbursement. See Medical Bill Policy for details.</p>
              </div>
              <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200">
                <h4 class="font-semibold text-gray-800 mb-2">Welfare Fund</h4>
                <p class="text-sm text-gray-700">GH₵ 50 monthly contribution provides support for life events. See Welfare Fund Policy.</p>
              </div>
              <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 p-4 rounded-lg border border-yellow-200">
                <h4 class="font-semibold text-gray-800 mb-2">Professional Development</h4>
                <p class="text-sm text-gray-700">Training opportunities and skills development programs available.</p>
              </div>
            </div>
          </div>

          <!-- Health & Safety -->
          <div class="mb-6 bg-orange-50 p-5 rounded-lg border border-orange-200">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-hard-hat text-orange-600 mr-2"></i>
              Health & Safety
            </h3>
            <p class="text-gray-700 mb-3">Your safety is our priority. All employees must:</p>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start">
                <i class="fas fa-shield-alt text-orange-600 mr-2 mt-1"></i>
                <span>Wear appropriate Personal Protective Equipment (PPE) in designated areas</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-shield-alt text-orange-600 mr-2 mt-1"></i>
                <span>Report all accidents, injuries, or near-misses immediately</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-shield-alt text-orange-600 mr-2 mt-1"></i>
                <span>Participate in safety training and drills</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-shield-alt text-orange-600 mr-2 mt-1"></i>
                <span>Keep work areas clean and organized</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-shield-alt text-orange-600 mr-2 mt-1"></i>
                <span>Know emergency procedures and evacuation routes</span>
              </li>
            </ul>
          </div>

          <!-- Contact HR -->
          <div class="bg-gradient-to-r from-green-600 to-green-700 text-white p-5 rounded-lg">
            <h3 class="text-xl font-bold mb-3 flex items-center">
              <i class="fas fa-phone-alt mr-2"></i>
              Questions or Concerns?
            </h3>
            <p class="mb-3">For any questions about this handbook or HR-related matters, please contact:</p>
            <div class="space-y-2">
              <p><i class="fas fa-building mr-2"></i><strong>HR Department</strong></p>
              <p><i class="fas fa-envelope mr-2"></i>hr@packglamour.com</p>
              <p><i class="fas fa-phone mr-2"></i>+233 XX XXX XXXX</p>
              <p class="text-sm mt-3 opacity-90">Office Hours: Monday - Friday, 8:00 AM - 5:00 PM</p>
            </div>
            <div class="mt-4 pt-4 border-t border-green-500">
              <p class="text-sm opacity-90">
                <i class="fas fa-info-circle mr-2"></i>This handbook is subject to change. Employees will be notified of any updates. By continuing your employment, you acknowledge that you have read and agree to abide by these policies.
              </p>
            </div>
          </div>
        </div>

        <!-- Modal Footer -->
        <div class="bg-gray-100 p-4 flex justify-end">
          <button onclick="closeEmployeeHandbook()" class="px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors">
            Close
          </button>
        </div>
      </div>
    </div>

    <!-- Staff Welfare Guide Modal -->
    <div id="welfareGuideModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
      <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
        <!-- Modal Header -->
        <div class="bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 flex items-center justify-between">
          <div class="flex items-center space-x-3">
            <i class="fas fa-hands-helping text-2xl"></i>
            <h2 class="text-2xl font-bold">Employee Welfare Fund Rules and Regulations</h2>
          </div>
          <button onclick="closeWelfareGuide()" class="text-white hover:text-gray-200 transition-colors">
            <i class="fas fa-times text-2xl"></i>
          </button>
        </div>

        <!-- Modal Content -->
        <div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]">
          <!-- Introduction -->
          <div class="mb-6 bg-purple-50 p-5 rounded-lg border border-purple-200">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-info-circle text-purple-600 mr-2"></i>
              Introduction
            </h3>
            <p class="text-gray-700 leading-relaxed">
              The Employee Welfare Fund is designed to support the financial well-being of our employees during significant life events and emergencies. This fund reflects our commitment to creating a supportive and caring work environment.
            </p>
          </div>

          <!-- Purpose -->
          <div class="mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-bullseye text-purple-600 mr-2"></i>
              Purpose of the Fund
            </h3>
            <p class="text-gray-700 mb-3">The Employee Welfare Fund provides financial assistance to employees for:</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
              <div class="flex items-start bg-blue-50 p-3 rounded-lg border border-blue-200">
                <i class="fas fa-heartbeat text-blue-600 mr-2 mt-1"></i>
                <span class="text-sm text-gray-700">Medical expenses and healthcare needs</span>
              </div>
              <div class="flex items-start bg-green-50 p-3 rounded-lg border border-green-200">
                <i class="fas fa-graduation-cap text-green-600 mr-2 mt-1"></i>
                <span class="text-sm text-gray-700">Educational support for employees and their children</span>
              </div>
              <div class="flex items-start bg-yellow-50 p-3 rounded-lg border border-yellow-200">
                <i class="fas fa-exclamation-triangle text-yellow-600 mr-2 mt-1"></i>
                <span class="text-sm text-gray-700">Emergency situations and unforeseen circumstances</span>
              </div>
              <div class="flex items-start bg-red-50 p-3 rounded-lg border border-red-200">
                <i class="fas fa-hand-holding-heart text-red-600 mr-2 mt-1"></i>
                <span class="text-sm text-gray-700">Other approved financial assistance needs</span>
              </div>
            </div>
          </div>

          <!-- Eligibility -->
          <div class="mb-6 bg-blue-50 p-5 rounded-lg border border-blue-200">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-user-check text-blue-600 mr-2"></i>
              Eligibility Criteria
            </h3>
            <p class="text-gray-700 mb-3">To be eligible for welfare fund benefits, employees must meet the following requirements:</p>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start">
                <i class="fas fa-check-circle text-blue-600 mr-2 mt-1"></i>
                <span><strong>Employment Status:</strong> Must be a permanent employee of the company</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-blue-600 mr-2 mt-1"></i>
                <span><strong>Service Period:</strong> Must have completed at least 6 months of continuous service</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-blue-600 mr-2 mt-1"></i>
                <span><strong>Active Employment:</strong> Must be actively employed at the time of application</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-blue-600 mr-2 mt-1"></i>
                <span><strong>Good Standing:</strong> Must not be under any disciplinary action</span>
              </li>
            </ul>
          </div>

          <!-- Fund Contributions -->
          <div class="mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-wallet text-purple-600 mr-2"></i>
              Monthly Contributions
            </h3>
            <div class="bg-gradient-to-r from-purple-50 to-purple-100 p-5 rounded-lg border border-purple-300">
              <div class="flex items-center justify-between mb-3">
                <div>
                  <p class="text-gray-800 font-semibold text-lg">Monthly Contribution Amount</p>
                  <p class="text-sm text-gray-600 mt-1">Automatically deducted from your monthly salary</p>
                </div>
                <div class="text-right">
                  <p class="text-3xl font-bold text-purple-600">GH₵ 50</p>
                  <p class="text-xs text-gray-600">per month</p>
                </div>
              </div>
              <div class="bg-white p-3 rounded border border-purple-200">
                <p class="text-sm text-gray-700">
                  <i class="fas fa-info-circle text-purple-600 mr-2"></i>
                  This contribution is automatically deducted from your gross salary each month and goes directly into the welfare fund to support all eligible employees.
                </p>
              </div>
            </div>
          </div>

          <!-- Benefits -->
          <div class="mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-gift text-purple-600 mr-2"></i>
              Welfare Fund Benefits
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <!-- Medical Expenses -->
              <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-5 rounded-lg border-2 border-blue-300 shadow-sm">
                <div class="flex items-center mb-3">
                  <div class="bg-blue-600 p-3 rounded-lg mr-3">
                    <i class="fas fa-stethoscope text-white text-xl"></i>
                  </div>
                  <div>
                    <h4 class="font-bold text-gray-800 text-lg">Medical Expenses</h4>
                    <p class="text-2xl font-bold text-blue-600">GH₵ 1,000</p>
                  </div>
                </div>
                <p class="text-sm text-gray-700">Maximum annual support for medical bills and healthcare expenses</p>
              </div>

              <!-- Funeral Support -->
              <div class="bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-lg border-2 border-gray-400 shadow-sm">
                <div class="flex items-center mb-3">
                  <div class="bg-gray-700 p-3 rounded-lg mr-3">
                    <i class="fas fa-praying-hands text-white text-xl"></i>
                  </div>
                  <div>
                    <h4 class="font-bold text-gray-800 text-lg">Funeral Support</h4>
                    <p class="text-2xl font-bold text-gray-700">GH₵ 2,000</p>
                  </div>
                </div>
                <p class="text-sm text-gray-700">Support for bereavement and funeral expenses (employee or immediate family)</p>
              </div>

              <!-- Marriage Support -->
              <div class="bg-gradient-to-br from-pink-50 to-pink-100 p-5 rounded-lg border-2 border-pink-300 shadow-sm">
                <div class="flex items-center mb-3">
                  <div class="bg-pink-600 p-3 rounded-lg mr-3">
                    <i class="fas fa-heart text-white text-xl"></i>
                  </div>
                  <div>
                    <h4 class="font-bold text-gray-800 text-lg">Marriage Support</h4>
                    <p class="text-2xl font-bold text-pink-600">GH₵ 1,500</p>
                  </div>
                </div>
                <p class="text-sm text-gray-700">One-time support for employees getting married</p>
              </div>

              <!-- Christening Support -->
              <div class="bg-gradient-to-br from-green-50 to-green-100 p-5 rounded-lg border-2 border-green-300 shadow-sm">
                <div class="flex items-center mb-3">
                  <div class="bg-green-600 p-3 rounded-lg mr-3">
                    <i class="fas fa-baby text-white text-xl"></i>
                  </div>
                  <div>
                    <h4 class="font-bold text-gray-800 text-lg">Christening Support</h4>
                    <p class="text-2xl font-bold text-green-600">GH₵ 1,000</p>
                  </div>
                </div>
                <p class="text-sm text-gray-700">Support for child naming/christening ceremonies</p>
              </div>
            </div>
          </div>

          <!-- Application Process -->
          <div class="mb-6 bg-yellow-50 p-5 rounded-lg border border-yellow-200">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-file-alt text-yellow-600 mr-2"></i>
              Application Process
            </h3>
            <div class="space-y-3">
              <div class="flex items-start">
                <div class="bg-yellow-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3 flex-shrink-0">1</div>
                <div>
                  <p class="font-semibold text-gray-800">Submit Written Application</p>
                  <p class="text-sm text-gray-700">Submit your welfare fund application to the HR department with supporting documentation</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="bg-yellow-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3 flex-shrink-0">2</div>
                <div>
                  <p class="font-semibold text-gray-800">Committee Review</p>
                  <p class="text-sm text-gray-700">The Welfare Fund Committee will review your application and verify eligibility</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="bg-yellow-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3 flex-shrink-0">3</div>
                <div>
                  <p class="font-semibold text-gray-800">Decision & Payment</p>
                  <p class="text-sm text-gray-700">Receive decision within <strong>3 working days</strong>. Approved benefits will be disbursed promptly</p>
                </div>
              </div>
            </div>
            <div class="bg-white p-3 rounded border border-yellow-300 mt-4">
              <p class="text-sm text-gray-700">
                <i class="fas fa-clock text-yellow-600 mr-2"></i>
                <strong>Processing Time:</strong> All applications are reviewed and decided upon within 3 working days of submission.
              </p>
            </div>
          </div>

          <!-- Fund Management -->
          <div class="mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-users-cog text-purple-600 mr-2"></i>
              Fund Management
            </h3>
            <div class="bg-gray-50 p-4 rounded-lg border border-gray-300">
              <p class="text-gray-700 mb-3">The Employee Welfare Fund is managed by a dedicated committee responsible for:</p>
              <ul class="space-y-2 text-gray-700">
                <li class="flex items-start">
                  <i class="fas fa-check text-purple-600 mr-2 mt-1"></i>
                  <span>Reviewing and approving welfare fund applications</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-purple-600 mr-2 mt-1"></i>
                  <span>Ensuring fair and consistent distribution of benefits</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-purple-600 mr-2 mt-1"></i>
                  <span>Maintaining fund records and financial accountability</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-purple-600 mr-2 mt-1"></i>
                  <span>Periodically reviewing benefit amounts and fund policies</span>
                </li>
              </ul>
            </div>
          </div>

          <!-- Confidentiality -->
          <div class="mb-6 bg-red-50 p-5 rounded-lg border border-red-200">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-lock text-red-600 mr-2"></i>
              Confidentiality & Privacy
            </h3>
            <p class="text-gray-700 mb-3">We take your privacy seriously. All welfare fund matters are handled with strict confidentiality:</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
              <div class="bg-white p-3 rounded border border-red-200 text-center">
                <i class="fas fa-user-shield text-red-600 text-2xl mb-2"></i>
                <p class="text-sm font-semibold text-gray-800">Personal Information</p>
                <p class="text-xs text-gray-600 mt-1">Protected and confidential</p>
              </div>
              <div class="bg-white p-3 rounded border border-red-200 text-center">
                <i class="fas fa-file-medical text-red-600 text-2xl mb-2"></i>
                <p class="text-sm font-semibold text-gray-800">Medical Records</p>
                <p class="text-xs text-gray-600 mt-1">Strictly confidential</p>
              </div>
              <div class="bg-white p-3 rounded border border-red-200 text-center">
                <i class="fas fa-dollar-sign text-red-600 text-2xl mb-2"></i>
                <p class="text-sm font-semibold text-gray-800">Financial Details</p>
                <p class="text-xs text-gray-600 mt-1">Secure and private</p>
              </div>
            </div>
          </div>

          <!-- Fund Maturity -->
          <div class="mb-6 bg-gradient-to-r from-orange-50 to-orange-100 p-5 rounded-lg border border-orange-300">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-calendar-check text-orange-600 mr-2"></i>
              Fund Maturity Date
            </h3>
            <div class="bg-white p-4 rounded border border-orange-300">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-gray-800 font-semibold text-lg">The Employee Welfare Fund matures on:</p>
                  <p class="text-sm text-gray-600 mt-1">All accumulated funds will be disbursed to eligible employees</p>
                </div>
                <div class="text-right">
                  <p class="text-3xl font-bold text-orange-600">December 30</p>
                  <p class="text-sm text-gray-600">Annual maturity date</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Amendments -->
          <div class="mb-6 bg-gray-50 p-5 rounded-lg border border-gray-300">
            <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-edit text-gray-600 mr-2"></i>
              Amendments & Updates
            </h3>
            <p class="text-gray-700">
              <i class="fas fa-info-circle text-blue-600 mr-2"></i>
              The company reserves the right to amend or modify these welfare fund rules and regulations as necessary. All employees will be notified in advance of any changes to the fund policies, contribution amounts, or benefit limits.
            </p>
          </div>

          <!-- Contact Information -->
          <div class="bg-gradient-to-r from-purple-600 to-purple-700 text-white p-5 rounded-lg">
            <h3 class="text-xl font-bold mb-3 flex items-center">
              <i class="fas fa-phone-alt mr-2"></i>
              Need Assistance?
            </h3>
            <p class="mb-3">For questions about the Employee Welfare Fund or to submit an application, please contact:</p>
            <div class="space-y-2">
              <p><i class="fas fa-building mr-2"></i><strong>HR Department - Welfare Fund Committee</strong></p>
              <p><i class="fas fa-envelope mr-2"></i>hr@packglamour.com</p>
              <p><i class="fas fa-phone mr-2"></i>+233 XX XXX XXXX</p>
              <p class="text-sm mt-3 opacity-90">Office Hours: Monday - Friday, 8:00 AM - 5:00 PM</p>
            </div>
          </div>
        </div>

        <!-- Modal Footer -->
        <div class="bg-gray-100 p-4 flex justify-end">
          <button onclick="closeWelfareGuide()" class="px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg transition-colors">
            Close
          </button>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="config-worker.js?v=5"></script>
    <script src="shared-modal.js"></script>
    <script>
      // Authentication check
      const currentUser = JSON.parse(sessionStorage.getItem("currentUser"));
      if (!currentUser) {
        window.location.href = "packaging-glamour-signin.html";
      }

      // Logout function
      function logout() {
        sessionStorage.removeItem("currentUser");
        window.location.href = "packaging-glamour-signin.html";
      }

      // Check for birthdays after page loads
      window.addEventListener('DOMContentLoaded', function() {
        // Wait a bit for other elements to load
        setTimeout(checkBirthdays, 1000);
      });

      // Chart instance
      let attendanceChart = null;
      let allAttendanceRecords = [];

      // ========================================
      // INITIALIZE DASHBOARD
      // ========================================
      async function initializeDashboard() {
        // Display user name with null check
        const userNameElement = document.getElementById("userName");
        if (userNameElement) {
          userNameElement.textContent = currentUser.name.split(" ")[0];
        }

        // Show admin link if user is admin/HR/Manager - will be updated by checkAdminStatus
        const adminLink = document.getElementById("adminLink");
        if ((currentUser.role === "Admin" || currentUser.role === "HR" || currentUser.role === "Manager") && adminLink) {
          adminLink.style.display = "inline-flex";
        }

        // Load all dashboard data
        await Promise.all([
          loadTodayStatus(),
          loadMonthlyHours(),
          loadPendingRequests(),
          loadMedicalClaimsCount(),
          loadAttendanceData(),
          loadAnnouncements(),
        ]);
      }

      // ========================================
      // LOAD TODAY'S STATUS
      // ========================================
      async function loadTodayStatus() {
        try {
          if (typeof getAttendance === "undefined") {
            throw new Error("getAttendance function not defined");
          }

          const today = new Date().toISOString().split("T")[0];

          // Fetch ALL attendance records (no filter) and filter in JavaScript
          const allData = await getAttendance();

          // Filter for this employee's records in JavaScript
          const myRecords = (allData.records || []).filter((r) => {
            const emp = r.fields.Employee || r.fields.employee || [];
            if (Array.isArray(emp)) {
              return emp.includes(currentUser.id);
            } else if (typeof emp === "string") {
              return emp === currentUser.id;
            }
            return false;
          });

          // Find today's record from my records
          const todayRecord = myRecords.find((r) => {
            const recordDate = r.fields.Date || r.fields.date;
            return recordDate === today;
          });

          if (todayRecord) {
            const record = todayRecord;
            const checkIn = record.fields["checkIn"] || record.fields["Check In"] || record.fields["CheckIn"];
            const checkOut = record.fields["checkOut"] || record.fields["Check Out"] || record.fields["CheckOut"];

            // Helper function to format time from timestamp
            const formatTime = (timestamp) => {
              if (!timestamp) return '';
              if (timestamp.includes('T')) {
                const date = new Date(timestamp);
                return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false });
              }
              return timestamp;
            };

            if (checkOut) {
              document.getElementById("todayStatus").textContent = "Checked Out";
              document.getElementById("checkInTime").textContent =
                `${formatTime(checkIn)} - ${formatTime(checkOut)}`;
            } else if (checkIn) {
              document.getElementById("todayStatus").textContent = "Checked In";
              document.getElementById("checkInTime").textContent =
                `Since ${formatTime(checkIn)}`;
            } else {
              document.getElementById("todayStatus").textContent =
                "Not Checked In";
              document.getElementById("checkInTime").textContent =
                "No record today";
            }
          } else {
            document.getElementById("todayStatus").textContent =
              "Not Checked In";
            document.getElementById("checkInTime").textContent =
              "No record today";
          }
        } catch (error) {
          document.getElementById("todayStatus").textContent = "--";
          document.getElementById("checkInTime").textContent =
            "Error loading status";
        }
      }

      // ========================================
      // LOAD MONTHLY HOURS
      // ========================================
      async function loadMonthlyHours() {
        try {
          const now = new Date();
          const year = now.getFullYear();
          const month = now.getMonth() + 1;
          const yearMonth = `${year}-${month.toString().padStart(2, "0")}`;

          // Get ALL attendance records and filter in JavaScript
          const allData = await getAttendance();

          // Filter for this employee's records
          const myRecords = (allData.records || []).filter((r) => {
            const emp = r.fields.Employee || r.fields.employee || [];
            if (Array.isArray(emp)) {
              return emp.includes(currentUser.id);
            } else if (typeof emp === "string") {
              return emp === currentUser.id;
            }
            return false;
          });

          let totalHours = 0;

          myRecords.forEach((record) => {
            const recordDate = record.fields["Date"] || record.fields["date"];

            if (recordDate && recordDate.startsWith(yearMonth)) {
              const checkIn = record.fields["checkIn"] || record.fields["Check In"] || record.fields["CheckIn"];
              const checkOut = record.fields["checkOut"] || record.fields["Check Out"] || record.fields["CheckOut"];

              if (checkIn && checkOut) {
                const hours = calculateHoursFromTimestamps(checkIn, checkOut);
                totalHours += hours;
              }
            }
          });

          document.getElementById("monthlyHours").textContent =
            totalHours.toFixed(1);
        } catch (error) {
          document.getElementById("monthlyHours").textContent = "0";
        }
      }

      // ========================================
      // CALCULATE HOURS FROM TIMES
      // ========================================
      function calculateHoursFromTimes(checkIn, checkOut) {
        try {
          const checkInTime = new Date(`2000-01-01T${checkIn}`);
          const checkOutTime = new Date(`2000-01-01T${checkOut}`);
          const diffMs = checkOutTime - checkInTime;
          return diffMs / (1000 * 60 * 60); // Convert to hours
        } catch (error) {
          return 0;
        }
      }

      // ========================================
      // CALCULATE HOURS FROM TIMESTAMPS
      // ========================================
      function calculateHoursFromTimestamps(checkIn, checkOut) {
        try {
          const checkInTime = new Date(checkIn);
          const checkOutTime = new Date(checkOut);
          const diffMs = checkOutTime - checkInTime;
          return diffMs / (1000 * 60 * 60); // Convert to hours
        } catch (error) {

          return 0;
        }
      }

      // ========================================
      // LOAD PENDING REQUESTS
      // ========================================
      async function loadPendingRequests() {
        try {
          // Fetch all leave requests and filter client-side
          const data = await getLeaveRequests(null);

          // Filter for this employee's pending requests
          const pendingRequests = (data.records || []).filter((record) => {
            const employees = record.fields.Employee || [];
            const isPending = record.fields.Status === "Pending";
            return employees.includes(currentUser.id) && isPending;
          });

          document.getElementById("pendingRequests").textContent =
            pendingRequests.length;
        } catch (error) {

          document.getElementById("pendingRequests").textContent = "0";
        }
      }

      // ========================================
      // LOAD MEDICAL CLAIMS COUNT
      // ========================================
      async function loadMedicalClaimsCount() {
        try {
          if (typeof getMedicalClaims === "undefined") {
            throw new Error("getMedicalClaims function not defined");
          }

          const data = await getMedicalClaims();

          // Filter for this employee's pending claims
          const pendingClaims = (data.records || []).filter((record) => {
            const employees = record.fields.Employee || record.fields.employee || [];
            const status = record.fields.Status || record.fields.status || "Pending";
            const isThisEmployee = employees.includes(currentUser.id);
            const isPending = status === "Pending";
            return isThisEmployee && isPending;
          });

          document.getElementById("medicalClaimsCount").textContent =
            pendingClaims.length;
        } catch (error) {
          document.getElementById("medicalClaimsCount").textContent = "0";
        }
      }

      // ========================================
      // LOAD ATTENDANCE DATA
      // ========================================
      async function loadAttendanceData() {
        try {
          const allData = await getAttendance();

          // Filter for this employee's records
          const myRecords = (allData.records || []).filter((r) => {
            const emp = r.fields.Employee || r.fields.employee || [];
            if (Array.isArray(emp)) {
              return emp.includes(currentUser.id);
            } else if (typeof emp === "string") {
              return emp === currentUser.id;
            }
            return false;
          });

          allAttendanceRecords = myRecords;
          renderAttendanceChart(allAttendanceRecords);
        } catch (error) {
          // Silently fail
        }
      }

      // ========================================
      // RENDER ATTENDANCE CHART
      // ========================================
      function renderAttendanceChart(records) {
        const ctx = document.getElementById("attendanceChart");
        if (!ctx) return;

        // Process data - last 7 days
        const last7Days = [];
        const hoursWorked = [];
        const today = new Date();

        for (let i = 6; i >= 0; i--) {
          const date = new Date(today);
          date.setDate(date.getDate() - i);
          const dateStr = date.toISOString().split("T")[0];
          const dayLabel = date.toLocaleDateString("en-US", {
            weekday: "short",
          });

          last7Days.push(dayLabel);

          // Find record for this date
          const record = records.find((r) => r.fields["Date"] === dateStr);

          if (record) {
            // Try multiple possible field name variations (camelCase vs space-separated)
            const checkIn = record.fields["checkIn"] || record.fields["Check In"] || record.fields["CheckIn"];
            const checkOut = record.fields["checkOut"] || record.fields["Check Out"] || record.fields["CheckOut"];

            if (checkIn && checkOut) {
              const hours = calculateHoursFromTimestamps(checkIn, checkOut);
              hoursWorked.push(hours);
            } else {
              hoursWorked.push(0);
            }
          } else {
            hoursWorked.push(0);
          }
        }

        // Destroy existing chart
        if (attendanceChart) {
          attendanceChart.destroy();
        }

        // Create new chart
        attendanceChart = new Chart(ctx, {
          type: "bar",
          data: {
            labels: last7Days,
            datasets: [
              {
                label: "Hours Worked",
                data: hoursWorked,
                backgroundColor: "rgba(239, 68, 68, 0.5)",
                borderColor: "rgba(239, 68, 68, 1)",
                borderWidth: 1,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            scales: {
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: "Hours",
                },
              },
            },
            plugins: {
              legend: {
                display: true,
                position: "top",
              },
            },
          },
        });
      }

      // ========================================
      // LOAD ANNOUNCEMENTS
      // ========================================
      async function loadAnnouncements() {
        try {
          const data = await getAnnouncements(null);

          // Sort by date descending and take first 3
          const recentAnnouncements = (data.records || [])
            .sort((a, b) => new Date(b.fields.Date) - new Date(a.fields.Date))
            .slice(0, 3);

          const container = document.getElementById("announcementsList");

          if (recentAnnouncements.length === 0) {
            container.innerHTML = `
              <div class="text-center text-gray-500 py-4">
                <i class="fas fa-inbox text-3xl mb-2"></i>
                <p>No announcements yet</p>
              </div>
            `;
            return;
          }

          container.innerHTML = recentAnnouncements
            .map(
              (announcement) => `
            <div class="border-l-4 ${getAnnouncementColor(
              announcement.fields.Type
            )} bg-gray-50 p-4 rounded cursor-pointer hover:bg-gray-100 transition-colors" onclick="window.location.href='announcements.html'">
              <div class="flex items-start justify-between">
                <div class="flex-1">
                  <h4 class="font-semibold text-gray-800">${
                    announcement.fields.Title || 'Untitled'
                  }</h4>
                  <p class="text-gray-600 text-sm mt-1">${(announcement.fields.Message || '').substring(
                    0,
                    100
                  )}${(announcement.fields.Message || '').length > 100 ? "..." : ""}</p>
                </div>
              </div>
            </div>
          `
            )
            .join("");
        } catch (error) {

          document.getElementById("announcementsList").innerHTML = `
            <div class="text-center text-red-500 py-4">
              <i class="fas fa-exclamation-circle text-2xl mb-2"></i>
              <p>Failed to load announcements</p>
            </div>
          `;
        }
      }

      // ========================================
      // GET ANNOUNCEMENT COLOR
      // ========================================
      function getAnnouncementColor(type) {
        const colors = {
          Urgent: "border-red-500",
          HR: "border-blue-500",
          General: "border-gray-500",
          Event: "border-green-500",
          Policy: "border-purple-500",
        };
        return colors[type] || "border-gray-500";
      }

      // ========================================
      // AUTO-REFRESH ON ATTENDANCE UPDATE
      // ========================================
      let lastAttendanceCheck =
        localStorage.getItem("attendanceUpdated") || "0";
      let lastMedicalClaimsCheck =
        localStorage.getItem("medicalClaimsUpdated") || "0";

      // Listen for storage changes (works across tabs)
      window.addEventListener("storage", function (e) {
        if (
          e.key === "attendanceUpdated" &&
          e.newValue !== lastAttendanceCheck
        ) {
          lastAttendanceCheck = e.newValue;
          refreshAttendanceData();
        }
        if (
          e.key === "medicalClaimsUpdated" &&
          e.newValue !== lastMedicalClaimsCheck
        ) {
          lastMedicalClaimsCheck = e.newValue;
          refreshMedicalClaimsData();
        }
      });

      // Poll for changes every 3 seconds (works within same tab)
      setInterval(function () {
        const currentValue = localStorage.getItem("attendanceUpdated") || "0";
        if (currentValue !== lastAttendanceCheck) {
          lastAttendanceCheck = currentValue;
          refreshAttendanceData();
        }

        const medicalClaimsValue =
          localStorage.getItem("medicalClaimsUpdated") || "0";
        if (medicalClaimsValue !== lastMedicalClaimsCheck) {
          lastMedicalClaimsCheck = medicalClaimsValue;
          refreshMedicalClaimsData();
        }
      }, 3000);

      // Refresh only attendance-related data
      async function refreshAttendanceData() {
        await Promise.all([
          loadTodayStatus(),
          loadMonthlyHours(),
          loadAttendanceData(),
        ]);
      }

      // Refresh medical claims data
      async function refreshMedicalClaimsData() {
        await loadMedicalClaimsCount();
      }

      // ========================================
      // MOBILE MENU TOGGLE
      // ========================================
      function toggleMobileMenu() {
        const mobileMenu = document.getElementById('mobileMenu');
        if (mobileMenu) {
          mobileMenu.classList.toggle('hidden');
        }
      }

      // ========================================
      // CHECK IF USER IS ADMIN AND SHOW LINK
      // ========================================
      async function checkAndShowAdminLink() {
        try {
          const currentUser = getCurrentUser();
          if (!currentUser || !currentUser.id) return;

          const employee = await getEmployee(currentUser.id);
          if (employee && employee.fields) {
            const role = employee.fields['Role'] || '';
            if (role === 'Admin' || role === 'HR' || role === 'Manager') {
              // Show desktop admin link
              const adminLink = document.getElementById('adminLink');
              if (adminLink) adminLink.style.display = 'inline-flex';

              // Show mobile admin link
              const adminLinkMobile = document.getElementById('adminLinkMobile');
              if (adminLinkMobile) adminLinkMobile.style.display = 'block';
            }
          }
        } catch (error) {

        }
      }

      // ========================================
      // MEDICAL POLICY MODAL FUNCTIONS
      // ========================================
      function showMedicalPolicy() {
        const modal = document.getElementById('medicalPolicyModal');
        if (modal) {
          modal.classList.remove('hidden');
          document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }
      }

      function closeMedicalPolicy() {
        const modal = document.getElementById('medicalPolicyModal');
        if (modal) {
          modal.classList.add('hidden');
          document.body.style.overflow = ''; // Restore scrolling
        }
      }

      // Close modal when clicking outside
      document.addEventListener('click', function(event) {
        const modal = document.getElementById('medicalPolicyModal');
        if (event.target === modal) {
          closeMedicalPolicy();
        }
      });

      // ========================================
      // EMPLOYEE HANDBOOK MODAL FUNCTIONS
      // ========================================
      function showEmployeeHandbook() {
        const modal = document.getElementById('employeeHandbookModal');
        if (modal) {
          modal.classList.remove('hidden');
          document.body.style.overflow = 'hidden';
        }
      }

      function closeEmployeeHandbook() {
        const modal = document.getElementById('employeeHandbookModal');
        if (modal) {
          modal.classList.add('hidden');
          document.body.style.overflow = '';
        }
      }

      // ========================================
      // WELFARE GUIDE MODAL FUNCTIONS
      // ========================================
      function showWelfareGuide() {
        const modal = document.getElementById('welfareGuideModal');
        if (modal) {
          modal.classList.remove('hidden');
          document.body.style.overflow = 'hidden';
        }
      }

      function closeWelfareGuide() {
        const modal = document.getElementById('welfareGuideModal');
        if (modal) {
          modal.classList.add('hidden');
          document.body.style.overflow = '';
        }
      }

      // Close modals with Escape key
      document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
          closeMedicalPolicy();
          closeEmployeeHandbook();
          closeWelfareGuide();
        }
      });

      // Close modals when clicking outside
      document.addEventListener('click', function(event) {
        const medicalModal = document.getElementById('medicalPolicyModal');
        const handbookModal = document.getElementById('employeeHandbookModal');
        const welfareModal = document.getElementById('welfareGuideModal');

        if (event.target === medicalModal) {
          closeMedicalPolicy();
        }
        if (event.target === handbookModal) {
          closeEmployeeHandbook();
        }
        if (event.target === welfareModal) {
          closeWelfareGuide();
        }
      });

      // Initialize on page load
      document.addEventListener("DOMContentLoaded", function() {
        initializeDashboard();
        checkAndShowAdminLink();
      });
    </script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Claims - Packaging Glamour HR</title>
    <link rel="shortcut icon" href="assets/images/favicon.ico" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Configuration Script -->
    <script src="config-worker.js?v=2"></script>
    <!-- Cloudinary Configuration -->
    <script src="cloudinary-config.js"></script>
    <!-- Authentication Script -->
    <script src="auth.js"></script>

    <style>
        * {
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: #f9fafb;
            min-height: 100vh;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <img src="assets/images/logo_red.png" alt="Logo" class="h-10">
                    <span class="text-xl font-bold text-gray-800">Medical Claims</span>
                </div>

                <!-- Navigation Menu -->
                <div class="flex items-center space-x-4">
                    <a href="dashboard.html" class="text-gray-600 hover:text-red-600">
                        <i class="fas fa-chart-line mr-1"></i> Dashboard
                    </a>
                    <a href="attendance-tracker.html" class="text-gray-600 hover:text-red-600">
                        <i class="fas fa-clock mr-1"></i> Attendance
                    </a>
                    <a href="leave-request.html" class="text-gray-600 hover:text-red-600">
                        <i class="fas fa-calendar-alt mr-1"></i> Leave
                    </a>
                    <a href="medical-claims.html" class="text-red-600 font-semibold">
                        <i class="fas fa-notes-medical mr-1"></i> Medical Claims
                    </a>
                    <a href="profile.html" class="text-gray-600 hover:text-red-600">
                        <i class="fas fa-user mr-1"></i> Profile
                    </a>
                    <a href="announcements.html" class="text-gray-600 hover:text-red-600">
                        <i class="fas fa-bullhorn mr-1"></i> Announcements
                    </a>
                    <a href="payroll.html" class="text-gray-600 hover:text-red-600">
                        <i class="fas fa-money-bill-wave mr-1"></i> Payroll
                    </a>
                    <button onclick="logout()" class="text-gray-600 hover:text-red-600">
                        <i class="fas fa-sign-out-alt mr-1"></i> Logout
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <!-- Medical Allowance Balance Card -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <div class="flex items-center justify-between">
                <div>
                    <h3 class="text-gray-600 text-sm font-medium">Annual Medical Allowance</h3>
                    <p id="medicalBalance" class="text-3xl font-bold text-green-600 mt-1">GH₵1,000.00</p>
                    <p class="text-sm text-gray-500 mt-1">Remaining balance for <span id="currentYear"></span></p>
                </div>
                <div class="bg-green-100 p-4 rounded-full">
                    <i class="fas fa-heartbeat text-green-600 text-3xl"></i>
                </div>
            </div>
        </div>

        <!-- Policy Documents Section -->
        <div class="bg-gradient-to-r from-red-50 to-orange-50 rounded-lg shadow-md p-6 mb-8 border border-red-100">
            <div class="flex items-center mb-4">
                <div class="bg-red-600 p-3 rounded-lg mr-4">
                    <i class="fas fa-book text-white text-2xl"></i>
                </div>
                <div>
                    <h2 class="text-xl font-bold text-gray-800">Important Documents</h2>
                    <p class="text-sm text-gray-600">Please review these policies before submitting a claim</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                <!-- Staff Medical Policy -->
                <a href="#" onclick="openPolicyDocument('medical-policy'); return false;"
                   class="bg-white rounded-lg p-4 hover:shadow-lg transition-shadow cursor-pointer border border-red-200 hover:border-red-400">
                    <div class="flex items-start">
                        <div class="bg-red-100 p-3 rounded-lg mr-3">
                            <i class="fas fa-file-medical text-red-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 mb-1">Staff Medical Policy</h3>
                            <p class="text-xs text-gray-600">Coverage details and guidelines</p>
                        </div>
                    </div>
                </a>

                <!-- Employee Handbook -->
                <a href="#" onclick="openPolicyDocument('employee-handbook'); return false;"
                   class="bg-white rounded-lg p-4 hover:shadow-lg transition-shadow cursor-pointer border border-orange-200 hover:border-orange-400">
                    <div class="flex items-start">
                        <div class="bg-orange-100 p-3 rounded-lg mr-3">
                            <i class="fas fa-book-open text-orange-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 mb-1">Employee Handbook</h3>
                            <p class="text-xs text-gray-600">Company policies and procedures</p>
                        </div>
                    </div>
                </a>

                <!-- Staff Welfare Guide -->
                <a href="#" onclick="openPolicyDocument('welfare-guide'); return false;"
                   class="bg-white rounded-lg p-4 hover:shadow-lg transition-shadow cursor-pointer border border-green-200 hover:border-green-400">
                    <div class="flex items-start">
                        <div class="bg-green-100 p-3 rounded-lg mr-3">
                            <i class="fas fa-hands-helping text-green-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 mb-1">Staff Welfare Guide</h3>
                            <p class="text-xs text-gray-600">Benefits and support programs</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Submit New Claim Form -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">
                    <i class="fas fa-plus-circle text-red-600 mr-2"></i>Submit New Claim
                </h2>

                <form id="medicalClaimForm" class="space-y-4">
                    <!-- Date of Visit -->
                    <div>
                        <label for="visitDate" class="block text-sm font-medium text-gray-700 mb-2">
                            Date of Visit <span class="text-red-600">*</span>
                        </label>
                        <input type="date" id="visitDate" required
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500">
                    </div>

                    <!-- Hospital/Clinic Name -->
                    <div>
                        <label for="hospitalName" class="block text-sm font-medium text-gray-700 mb-2">
                            Hospital/Clinic Name <span class="text-red-600">*</span>
                        </label>
                        <input type="text" id="hospitalName" required placeholder="e.g., Ridge Hospital"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500">
                    </div>

                    <!-- Amount Spent -->
                    <div>
                        <label for="amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Amount Spent (GH₵) <span class="text-red-600">*</span>
                        </label>
                        <input type="number" id="amount" required min="0" step="0.01" placeholder="0.00"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500">
                    </div>

                    <!-- Description -->
                    <div>
                        <label for="description" class="block text-sm font-medium text-gray-700 mb-2">
                            Description of Treatment <span class="text-red-600">*</span>
                        </label>
                        <textarea id="description" required rows="4" placeholder="Describe the medical treatment received..."
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"></textarea>
                    </div>

                    <!-- Receipt Upload - Multiple Files -->
                    <div>
                        <label for="receipt" class="block text-sm font-medium text-gray-700 mb-2">
                            Upload Receipts/Proof <span class="text-red-600">*</span>
                        </label>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-red-500 transition-colors">
                            <input type="file" id="receipt" required accept="image/*,.pdf" class="hidden" multiple>
                            <label for="receipt" class="cursor-pointer">
                                <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-2"></i>
                                <p class="text-sm text-gray-600">Click to upload receipts (multiple files allowed)</p>
                                <p class="text-xs text-gray-500 mt-1">PDF or Image files (Max 5MB each)</p>
                            </label>
                        </div>
                        <!-- Selected Files List -->
                        <div id="filesList" class="mt-3 space-y-2">
                            <!-- Files will be listed here with delete buttons -->
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition-colors">
                        <i class="fas fa-paper-plane mr-2"></i>Submit Claim
                    </button>
                </form>
            </div>

            <!-- Claims History -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">
                    <i class="fas fa-history text-red-600 mr-2"></i>My Claims History
                </h2>

                <div id="claimsHistory" class="space-y-4">
                    <!-- Claims will be loaded here -->
                    <div class="text-center py-8 text-gray-400">
                        <i class="fas fa-inbox text-5xl mb-3"></i>
                        <p>No claims submitted yet</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Policy Document Modal -->
    <div id="policyModal" class="fixed inset-0 bg-gray-100 bg-opacity-30 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b flex justify-between items-start sticky top-0 bg-white">
                <div>
                    <h3 id="policyTitle" class="text-2xl font-bold text-gray-800"></h3>
                    <p id="policySubtitle" class="text-sm text-gray-600 mt-1"></p>
                </div>
                <button onclick="closePolicyModal()" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="p-6">
                <div id="policyContent" class="prose max-w-none"></div>
            </div>
        </div>
    </div>

    <script>
        let currentEmployee = null;

        // Initialize page
        document.addEventListener('DOMContentLoaded', async function() {
            // Check authentication
            if (!requireAuth()) {
                window.location.href = 'packaging-glamour-signin.html';
                return;
            }

            currentEmployee = getCurrentUser();
            if (!currentEmployee) {
                window.location.href = 'packaging-glamour-signin.html';
                return;
            }

            // Set current year
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            // Load medical balance and claims
            await loadMedicalBalance();
            await loadClaimsHistory();

            // Multiple file upload handling
            let selectedFiles = [];

            document.getElementById('receipt').addEventListener('change', function(e) {
                const newFiles = Array.from(e.target.files);

                // Validate each file
                for (let file of newFiles) {
                    if (file.size > 5 * 1024 * 1024) {
                        showMessage(`${file.name} is too large. Max size is 5MB`, 'error');
                        continue;
                    }
                    // Check if file already selected
                    if (!selectedFiles.find(f => f.name === file.name && f.size === file.size)) {
                        selectedFiles.push(file);
                    }
                }

                displaySelectedFiles();
                e.target.value = ''; // Reset input to allow re-selecting same file
            });

            function displaySelectedFiles() {
                const filesList = document.getElementById('filesList');
                if (selectedFiles.length === 0) {
                    filesList.innerHTML = '';
                    return;
                }

                filesList.innerHTML = selectedFiles.map((file, index) => `
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200">
                        <div class="flex items-center space-x-3">
                            <i class="fas ${file.type.includes('pdf') ? 'fa-file-pdf text-red-500' : 'fa-file-image text-blue-500'}"></i>
                            <div>
                                <p class="text-sm font-medium text-gray-800">${file.name}</p>
                                <p class="text-xs text-gray-500">${(file.size / 1024).toFixed(1)} KB</p>
                            </div>
                        </div>
                        <button type="button" onclick="removeFile(${index})" class="text-red-600 hover:text-red-800">
                            <i class="fas fa-times-circle"></i>
                        </button>
                    </div>
                `).join('');
            }

            window.removeFile = function(index) {
                selectedFiles.splice(index, 1);
                displaySelectedFiles();
            };

            // Set max date to today
            document.getElementById('visitDate').max = new Date().toISOString().split('T')[0];
        });

        // Load medical balance
        async function loadMedicalBalance() {
            try {
                const filterFormula = `AND(FIND('${currentEmployee.id}', ARRAYJOIN({Employee})), YEAR({Date of visit}) = ${new Date().getFullYear()})`;
                const data = await getMedicalClaims(filterFormula);

                const approvedClaims = data.records?.filter(r => r.fields.Status === 'Approved') || [];
                const totalSpent = approvedClaims.reduce((sum, claim) => sum + (claim.fields['Amount Spent (GH₵)'] || 0), 0);
                const remaining = 1000 - totalSpent;

                document.getElementById('medicalBalance').textContent = `GH₵${remaining.toFixed(2)}`;

                if (remaining < 100) {
                    document.getElementById('medicalBalance').classList.remove('text-green-600');
                    document.getElementById('medicalBalance').classList.add('text-red-600');
                }
            } catch (error) {
                console.error('Error loading medical balance:', error);
            }
        }

        // Load claims history
        async function loadClaimsHistory() {
            try {
                console.log('Loading claims for employee:', currentEmployee.id);
                const filterFormula = `FIND('${currentEmployee.id}', ARRAYJOIN({Employee}))`;
                console.log('Filter formula:', filterFormula);

                const data = await getMedicalClaims(filterFormula);
                console.log('Claims data received:', data);

                const claims = data.records || [];
                console.log('Number of claims:', claims.length);

                const historyDiv = document.getElementById('claimsHistory');

                if (claims.length === 0) {
                    historyDiv.innerHTML = `
                        <div class="text-center py-8 text-gray-400">
                            <i class="fas fa-inbox text-5xl mb-3"></i>
                            <p>No claims submitted yet</p>
                        </div>
                    `;
                    return;
                }

                historyDiv.innerHTML = claims.map(claim => {
                    const fields = claim.fields;
                    const statusColors = {
                        'Pending': 'bg-yellow-100 text-yellow-800',
                        'Approved': 'bg-green-100 text-green-800',
                        'Rejected': 'bg-red-100 text-red-800'
                    };

                    // Handle multiple receipts
                    const receipts = fields['Upload Receipt/Proof'] || [];
                    const receiptsHTML = receipts.length > 0
                        ? receipts.map((receipt, idx) => `
                            <a href="${receipt.url}" target="_blank" class="text-blue-600 hover:underline text-xs">
                                <i class="fas fa-file-alt mr-1"></i>Receipt ${idx + 1}
                            </a>
                          `).join(' ')
                        : '';

                    return `
                        <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                            <div class="flex items-start justify-between mb-2">
                                <div>
                                    <h3 class="font-semibold text-gray-800">${fields['Hospital/Clinic Name'] || 'N/A'}</h3>
                                    <p class="text-sm text-gray-600">${new Date(fields['Date of visit']).toLocaleDateString()}</p>
                                </div>
                                <span class="px-3 py-1 rounded-full text-xs font-semibold ${statusColors[fields.Status] || 'bg-gray-100 text-gray-800'}">
                                    ${fields.Status || 'Pending'}
                                </span>
                            </div>
                            <p class="text-sm text-gray-700 mb-2">${fields['Description of Treatment'] || 'No description'}</p>
                            <div class="flex items-center justify-between text-sm">
                                <span class="font-semibold text-red-600">GH₵${(fields['Amount Spent (GH₵)'] || 0).toFixed(2)}</span>
                                <div class="flex gap-2">
                                    ${receiptsHTML}
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');

            } catch (error) {
                console.error('Error loading claims:', error);
                showMessage('Failed to load claims history', 'error');
            }
        }

        // Handle form submission
        document.getElementById('medicalClaimForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const submitBtn = e.target.querySelector('button[type="submit"]');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Submitting...';

            try {
                const visitDate = document.getElementById('visitDate').value;
                const hospitalName = document.getElementById('hospitalName').value;
                const amount = parseFloat(document.getElementById('amount').value);
                const description = document.getElementById('description').value;

                if (selectedFiles.length === 0) {
                    throw new Error('Please upload at least one receipt');
                }

                // Upload all files to Cloudinary
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Uploading receipts...';
                const uploadedFiles = [];

                for (let i = 0; i < selectedFiles.length; i++) {
                    const file = selectedFiles[i];
                    submitBtn.innerHTML = `<i class="fas fa-spinner fa-spin mr-2"></i>Uploading ${i + 1}/${selectedFiles.length}...`;

                    const uploadResult = await uploadToCloudinary(file, (progress) => {
                        submitBtn.innerHTML = `<i class="fas fa-spinner fa-spin mr-2"></i>Uploading ${i + 1}/${selectedFiles.length} (${Math.round(progress)}%)`;
                    });

                    uploadedFiles.push({
                        url: uploadResult.url,
                        filename: file.name
                    });
                }

                // Update button text to show saving
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Saving claim...';

                // Create claim record matching Airtable structure with all Cloudinary URLs
                const claimFields = {
                    'Date of visit': visitDate,
                    'Employee': [currentEmployee.id],
                    'Hospital/Clinic Name': hospitalName,
                    'Description of Treatment': description,
                    'Amount Spent (GH₵)': amount,
                    'Upload Receipt/Proof': uploadedFiles
                };

                await createMedicalClaim(claimFields);

                showMessage('Medical claim submitted successfully! Awaiting admin approval.', 'success');

                // Reset form and selected files
                e.target.reset();
                selectedFiles = [];
                displaySelectedFiles();

                // Reload claims and balance
                await loadMedicalBalance();
                await loadClaimsHistory();

            } catch (error) {
                console.error('Error submitting claim:', error);
                showMessage(error.message || 'Failed to submit claim. Please try again.', 'error');
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>Submit Claim';
            }
        });

        // Convert file to base64
        function fileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }

        // Show message
        function showMessage(message, type) {
            const bgColor = type === 'success' ? 'bg-green-500' : 'bg-red-500';
            const div = document.createElement('div');
            div.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in`;
            div.innerHTML = `<i class="fas fa-${type === 'success' ? 'check' : 'exclamation'}-circle mr-2"></i>${message}`;
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 5000);
        }

        // Policy document content
        const policyDocuments = {
            'medical-policy': {
                title: 'Staff Medical Policy',
                subtitle: 'Effective Date: January 2025',
                content: `
                    <h2>Medical Coverage Overview</h2>
                    <p>All permanent and contract staff members are entitled to an annual medical allowance of <strong>GH₵1,000</strong> to cover medical expenses incurred during the year.</p>

                    <h3>Eligible Expenses</h3>
                    <ul>
                        <li>Consultation fees at registered hospitals and clinics</li>
                        <li>Prescribed medications and pharmaceutical products</li>
                        <li>Laboratory tests and diagnostic procedures</li>
                        <li>Emergency medical treatment</li>
                        <li>Specialist consultations (with referral)</li>
                    </ul>

                    <h3>Claim Submission Guidelines</h3>
                    <ol>
                        <li>Submit claims within <strong>30 days</strong> of receiving treatment</li>
                        <li>Attach original receipts or invoices from the healthcare provider</li>
                        <li>Provide a detailed description of the treatment received</li>
                        <li>Ensure all receipts are clearly dated and stamped by the facility</li>
                    </ol>

                    <h3>Non-Covered Items</h3>
                    <ul>
                        <li>Cosmetic procedures and treatments</li>
                        <li>Traditional or alternative medicine (unless pre-approved)</li>
                        <li>Experimental treatments</li>
                        <li>Over-the-counter medications without prescription</li>
                    </ul>

                    <h3>Approval Process</h3>
                    <p>All medical claims are reviewed by the HR department within <strong>5-7 business days</strong>. Approved claims will be reimbursed in the next payroll cycle.</p>

                    <h3>Contact Information</h3>
                    <p>For questions regarding your medical coverage, please contact the HR department at <strong>hr@glampack.com</strong></p>
                `
            },
            'employee-handbook': {
                title: 'Employee Handbook',
                subtitle: 'Updated: January 2025',
                content: `
                    <h2>Welcome to Glampack</h2>
                    <p>This handbook provides essential information about company policies, procedures, and your rights and responsibilities as an employee.</p>

                    <h3>Working Hours</h3>
                    <ul>
                        <li><strong>Regular Hours:</strong> Monday - Friday, 8:00 AM - 5:00 PM</li>
                        <li><strong>Break Time:</strong> 1 hour lunch break (12:00 PM - 1:00 PM)</li>
                        <li><strong>Late Arrival:</strong> Arrivals after 8:30 AM require explanation</li>
                    </ul>

                    <h3>Leave Entitlements</h3>
                    <ul>
                        <li><strong>Annual Leave:</strong> 20 working days per year</li>
                        <li><strong>Sick Leave:</strong> 10 working days per year (medical certificate required for 3+ days)</li>
                        <li><strong>Emergency Leave:</strong> Subject to approval by line manager</li>
                    </ul>

                    <h3>Code of Conduct</h3>
                    <ol>
                        <li>Maintain professionalism in all interactions</li>
                        <li>Respect confidentiality of company and client information</li>
                        <li>Dress appropriately for your role and department</li>
                        <li>Report to work on time and fulfill your responsibilities</li>
                    </ol>

                    <h3>Performance Reviews</h3>
                    <p>Performance evaluations are conducted <strong>semi-annually</strong> to discuss achievements, areas for improvement, and career development opportunities.</p>

                    <h3>Grievance Procedure</h3>
                    <p>If you have concerns or complaints, please first discuss with your line manager. If unresolved, escalate to HR department within 7 days.</p>

                    <h3>Technology & Equipment</h3>
                    <p>Company-provided equipment must be used for business purposes only. Personal use should be limited and appropriate.</p>
                `
            },
            'welfare-guide': {
                title: 'Staff Welfare Guide',
                subtitle: 'Employee Benefits & Support Programs',
                content: `
                    <h2>Your Wellbeing Matters</h2>
                    <p>Glampack is committed to supporting the physical, mental, and financial wellbeing of all staff members.</p>

                    <h3>Medical Benefits</h3>
                    <ul>
                        <li><strong>Annual Medical Allowance:</strong> GH₵1,000 per employee</li>
                        <li><strong>Health Insurance:</strong> Comprehensive coverage for permanent staff</li>
                        <li><strong>Emergency Medical Support:</strong> 24/7 assistance hotline</li>
                    </ul>

                    <h3>Financial Wellness</h3>
                    <ul>
                        <li><strong>Salary Advances:</strong> Available in emergency situations (subject to approval)</li>
                        <li><strong>End of Year Bonus:</strong> Performance-based bonuses distributed in December</li>
                        <li><strong>Pension Contribution:</strong> Company contributes to SSNIT and private pension schemes</li>
                    </ul>

                    <h3>Work-Life Balance</h3>
                    <ul>
                        <li><strong>Flexible Working:</strong> Remote work options available for eligible roles</li>
                        <li><strong>Family Support:</strong> Maternity/Paternity leave as per labor laws</li>
                        <li><strong>Study Leave:</strong> Support for continuing education and professional development</li>
                    </ul>

                    <h3>Employee Assistance Program</h3>
                    <p>Confidential counseling and support services are available for:</p>
                    <ul>
                        <li>Mental health and stress management</li>
                        <li>Financial planning and debt management</li>
                        <li>Legal advice and support</li>
                        <li>Family and relationship counseling</li>
                    </ul>

                    <h3>Social Activities</h3>
                    <p>Regular team building activities, annual staff retreat, and quarterly social events to foster team spirit and camaraderie.</p>

                    <h3>Recognition Programs</h3>
                    <ul>
                        <li><strong>Employee of the Month:</strong> Outstanding performance recognition</li>
                        <li><strong>Long Service Awards:</strong> Celebrating tenure milestones</li>
                        <li><strong>Spot Bonuses:</strong> Instant recognition for exceptional contributions</li>
                    </ul>

                    <h3>Support Contacts</h3>
                    <p><strong>HR Department:</strong> hr@glampack.com | Ext: 100<br>
                    <strong>Welfare Officer:</strong> welfare@glampack.com | Ext: 101</p>
                `
            }
        };

        // Open policy document modal
        function openPolicyDocument(docType) {
            const doc = policyDocuments[docType];
            if (!doc) return;

            document.getElementById('policyTitle').textContent = doc.title;
            document.getElementById('policySubtitle').textContent = doc.subtitle;
            document.getElementById('policyContent').innerHTML = doc.content;

            document.getElementById('policyModal').classList.remove('hidden');
            document.getElementById('policyModal').classList.add('flex');
        }

        // Close policy modal
        function closePolicyModal() {
            document.getElementById('policyModal').classList.add('hidden');
            document.getElementById('policyModal').classList.remove('flex');
        }
    </script>
</body>
</html>
